## 3 필터의 응용

---
* 필터를 사용하는 방법에는 제한이 없으며, 필터의 특징을 잘 활용하느냐에 따라서 필터의 응용
범위가 달라질 수 있다.
* 필터를 사용하는 기능들 예
  * 사용자 인증
  * 캐싱 필터
  * 자원 접근에 대한 로깅
  * 응답 데이터 변환(HTML 변환, 응답 헤더 변환, 데이터 암호화 등)
  * 공통 기능 실행

### 3.1 로그인 검사 필터

---
* 사용자 인증은 웹 사이트의 필수 기능이므로 각각의 JSP/서블릿 등의 코드에 사용자 로그인 여부 판단
코드를 구현할 수 있다.
* 하지만 JSP/서블릿마다 사용자 인증 코드를 넣으면, 회원인증 정책 변경 때마다 관련된 모든 코드를 변
경 해야 한다는 문제가 발생한다.
* 이런 문제는 인증 여부를 검사하는 필터를 사용해서 깔끔하게 해결할 수 있다.
* 필터에서 로그인했는지 여부를 판탄하고, 로그인하지 않았다면 로그인 폼을 보여주는 페이지로 흐름을
이동시킬 수 있는 것이다.
* 로그인 검사 방식이 변경되더라도 필터만 변경하면 되고 나머지는 수정할 필요가 없다

### 3.2 XSL/T 필터

---
* 응답 데이터를 변경해주는 필터는 JSP나 서블릿이 생성한 XML 응답 데이터를 XSL/T를 
이용해서 HTML로 변환해주는 기능을 제공한다.
* 응답 데이터를 변환하려면, 서블릿/JSP가 생성한 XML 데이터를 웹 브라우저로 곧바로 전송하면 안된다.
* 서블릿/JSP가 데이터를 임시 버퍼에 저장하고, 그 버퍼에 저장된 XML 데이터를 XSL/T를 사용해서 변환해야
한다.
* 이를 구현하려면 다음 역할을 할 클래스들을 구현해야 한다.
  * 응답 데이터를 임시로 보관하는 버퍼로 사용할 출력 스트림
  * 버퍼를 사용하는 응답 래퍼 클래스
  * 응답 래퍼 클래스를 이용해서 응답 데이터체 XSL/T 변환을 수행하는 필터
* 버퍼의 역할을 할 출력 스트림은 서블릿/JSP에서 사용하는 PrintWriter 타입이어야 한다.