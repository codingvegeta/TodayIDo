## 2 모델2 구조를 이용한 MVC 패턴 구현

---

### 2.1 모델2 구조의 구현 방법 : 기본 MVC 패턴 구현 기법

---
* 웹 브라우저가 GET 방식으로 보내든 POST 방식으로 보내든 컨트롤러는 1단계에서 일단 
processRequest() 메서드로 웹 브라우저의 요청을 전달한다.

### 2.2 커맨드 패턴 기반의 코드

---
* 컨트롤러 서블릿이 해야 할 두 번째 작업은 사용자가 어떤 기능을 요청했는지 분석하는 것이다.
* 사용자가 어떤 기능을 요구했는지 판단하기 위해 사용하는 방법중에서 가장 일반적인 방법은 명령어를
사용하는 것이다.
* 웹 브라우저를 통해서 명렁어를 전달하는 방법은 두가지가 있다.
  * 특정 이름의 파라미터에 명령어 정보를 전달한다.
  * 요청 URI 자체를 명령어로 사용한다.

#### 2.2.1 커맨드 패턴을 이용한 명령어 처리기의 분리


* 각 명령어에 해당하는 로직 처리 코드를 별도 클래스로 작성하는것을 커맨드 패턴이라고 한다.
* 커맨드 패턴은 하나의 명령어를 하나의 클래스에서 처리하도록 구현하는 패턴이다.
* 커맨드 패턴에서 명령어를 처리하는 클래스는 같은 공통인터페이스를 상속해서 구현한다.

### 2.3 설정 파일에 커맨드와 클래스의 관계 명시하기

---
* 로직 처리 코드를 컨트롤러 서블릿에서 핸들러 클래스로 옮겼지만, 여전히 컨트롤러 서블릿은
명령어에 따른 알맞은 처리를 하기 위해 중첩된 if-else 구문을 사용해야 한다.
* 이 코드는 새로운 명령어가 추가되면 클래스의 코드를 직접 변경해야 하는 단점이있다.
* 이 단점을 해결하는 방법은 <명령어,핸들러 클래스>의 매핑 정보를 설정파일에 저장하는 것이다.
* 설정 파일의 한 줄은 '명령어=클래스이름' 형태로 구성된다.
* 컨트롤러 서블릿은 설정 파일에서 명령어와 클래스 매핑 정보를 읽어와 명령어에 해당하는 클래스
객체를 미리 생성해 두었다가 사용하면 된다.

### 2.4 요청 URI를 명령어로 사용하기

---
* 명렁어 기반의 파라미터는 컨트롤러의 URL이 사용자에게 노출된다.
* 아무 명령어나 실행해 보는 사용자들도 있을것이다.
* 이런 불필요한 공격아닌 공격을 방지하려면 요청 URI 자체를 명령어로 사용하는것이 좋다.