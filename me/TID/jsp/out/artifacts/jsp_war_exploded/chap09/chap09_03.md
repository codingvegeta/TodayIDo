## 3. 쿠키를 사용한 로그인 상태 유지

---
* 로그인 상태를 확인할 때 가장 많이 사용하는 방법
* 쿠키를 이용한 로그인 상태 유지 방법
  1. 로그인에 성공하면 특정 이름을 갖는 쿠키를 생성한다.
  2. 해당 쿠키가 존재하면 로그인한 상태라고 판단한다.
  3. 로그아웃하면 해당 쿠키를 삭제한다.

### 3.1 로그인 처리

---
* member/login.jsp 와 member/loginForm.jsp 를 참조하자

### 3.2 로그인 여부 판단

---
* 로그인에 성공했음을 나타내는 쿠키를 생성한 후 웹 브라우저는 요청을 보낼 때 마다 쿠키를 전송한다.
* 로그인에 성공할 때 생성되는 쿠키가 존재하는지 확인하면 로그인 여부를 판단할 수 있다.
* ```
  Cookie cookies = new Cookies(request);
  String id = cookies.getValue("AUTH") <- 3.1에서 만들어진 쿠키
  if(if != null){
  //로그인한 경우의 처리
  ...
  }else {
  //로그인 하지 않은 경우의 처리
  ....
  }
  ```
* member/loginCheck.jsp 를 참조하자
* 아이디를 평문 형태로 쿠키 값으로 사용시 보안에 큰 문제가 생긴다.
* 다양한 암호화 방식을 혼합해서 저장하자.

### 3.3 로그아웃 처리

---
* 로그인에 성공하면 쿠키를 생성하므로, 로그아웃 처리하려면 쿠키를 삭제하면 된다.
* 쿠키는 삭제가 따로 없으므로 유효시간을 _0_ 으로 지정해주면 된다