## 2 SQL 기초

---
* SQL은 데이터베스로부터 데이터를 조회하고 삭제하는등의 작업을 수행할 때 사용하는 언어이다.

### 2.1 주요 SQL 타입
* SQL도 저장할 데이터 종류에 따라 다양한 타입을 제공한다.
  * CHAR : 확정 길이의 문자열을 저장한다.
  * VARCHAR : 가변 길이의 문자열을 저장한다.
  * LONG VARCHAR : 긴 가변 길이의 문자열을 저장한다.
  * NUMERIC : 숫자를 저장한다.
  * DECIMAL : 십진수를 저장한다.
  * INTEGER : 정수를 저장한다.
  * TIMESTAMP : 날짜와 시간을 저장한다.
  * TIME : 시간을 저장한다.
  * DATE : 날짜를 저장한다.
  * CLOB : 대량의 문자열 데이터를 저장한다.
  * BLOB : 대량의 이진 데이터를 저장한다.

### 2.2 테이블 생성 쿼리

---
* 데이터가 실제로 저장되는 공간은 테이블이다.
* 데이터베이스 프로그래밍을 하려면 테이블을 생성해야 한다.
  * ```
    CREATE TABLE TABLENAME(
    COL_NAME1 COL_TYPE1(LEN1),
    ...)
    ```
    * TABLENAME : 테이블을 식별할 때 사용할 이름
    * COL_NAME : 각 칼럼의 이름
    * COL_TYPE : 각 칼럼에 저장될 값의 타입
    * LEN : 저장될 값의 최대 길이
* 위처럼 생성하게되면 주요키에 대한 정보가 표시되지 않는다.
* 주요키 칼럼을 표시할 때는 칼럼 타입 뒤에 'PRIMARY KEY'라는 문장을 추가한다.
* 필수값 (값이 꼭 있어야 하면) 'NOT NULL'을 추가한다.

### 2.3 데이터 삽입 쿼리

---
* 테이블에 데이터를 추가할 때는 INSERT 쿼리를 사용한다.
* INSERT 쿼리는 테이블에 한 레코드를 삽입할 때 사용하며 기본 문법은 다음과 같다.
* ```
  INSERT INTO [테이블이름]([칼럼1],[칼럼2],...,[칼럼n])
  values([값1],[값2],...,[값n])
  ```
* [테이블이름]은 레코드를 삽입할 테이름 이름을 나타낸다.
* [칼럼]에는 값을 입력할 칼럼의 이름을 입력하고, [값]에는 해당 칼럼의 값을 입력한다.
* notnull이 아닌 칼럼에 값을 지정하지 않으면 null이 들어간다.
* SQL에서는 작은따옴표를 사용해서 문자열을 표시한다.
* 칼럼 목록을 표시하지 않으면 전체 칼럼에 대해 값을 지정해야 한다.

### 2.4 데이터 조회 쿼리 - 조회 및 조건

---
* 테이블에 저장된 데이터를 조회할 때에는 SELECT 쿼리를 사용한다.
* ```
  SELECT[칼럼1],[칼럼2],...[칼럼n] from [테이블이름]
  ```
* [칼럼]은 읽어오고자 하는 칼럼의 목록이다.
* 전체 칼럼을 모두 읽으려면 ('*')를 사용하면 된다.
* SELECT 쿼리는 기본적으로 모든 레코드의 목록을 읽어온다.
* 특정 조건만 읽어오고 싶을 때는 WHERE 절을 이용하면 된다.
* ```
  SELECT * FROM [테이블이름] WHERE 특정조건
  ```
* 자바와 같이 AND 와 OR을 이용해서 한개 이상의 조건을 부여할 수 있다.
* AND 는 조건이 모두 충족해야 한다
* OR 는 조건중의 하나만 충족해도 된다.
* IS NULL 연산자는 칼럼값이 널인지 여부를 판단한다.
* IN NOT NULL 연산자는 해당 칼럼이 NULL이 아닌지 여부를 판단한다.
* 부등호 기호를 사용할 수도 있다.
* LIKE 조건을 사용해서 특정 문장을 포함하고 있는지를 검사할 수 있다.
* % 는 모든것을 의미한다.
  * LIKE 검색은 편리하지만 검색 속도가 매우 느리다.

### 2.5 데이터 쿼리 조회 - 정렬

---
* SQL 쿼리에서는 ODERD BY 절을 사용해서 데이터 정렬을 처리한다.
* ```
  SELECT .. FROM [테이블이름] WHERE [조건절] ODERD BY[칼럼1] asc, 칼럼[2]desc...;
  ```
* ODERD BY 절은 WHERE 절 뒤에 붙는다.(WHERE 절이 없을 경우 FROM 절 뒤에 붙는다.)
* [칼럼]은 정렬하고 싶은 칼럼의 이름이고 칼럼의 이름 뒤에 'asc'나 'desc'를 붙인다.
* 'asc'는 어센딩 -> 오름차순이다.
* 'desc'는 디센딩 -> 내림차순이다.
* 칼럼을 2가지로 하면 칼럼1에 대한 값을 정렬하고 중복된 값에 대해서만 칼럼2의 조건으로 정렬한다.

### 2.6 데이터 쿼리 조회 - 집합

---
* 집합 관련 쿼리에는 sum(), max(), min(), count() 함수가 있다.
* ```
  SELECT max(칼럼), sum(칼럼), min(칼럼)
  ```
* 칼럼에 저장되어 있는 값들 중에서 연산한다.
* 전체 레코드 개수는 count 를 사용해서 구할 수 있다.
* ```
  SELECT count(*) from [테이블];
  ```
* 특정 조건에 대해서만도 함수를 사용할 수 있다.
* where로 조건문을 붙이면 된다.

### 2.7 데이터 수정 쿼리

---
* 데이터를 수정할 때에는 UPDATE 쿼리를 사용한다.
* ```
  UPDATE [테이블이름] set[칼럼1]=[값1], [칼럼2]=[값2],...WHERE[조건절];
  ```
* UPDATE 쿼리를 실행할 때 WHERE 절을 사용해서 조건을 명시하지 않으면 모든 레코드의 값을 변경한다.

### 2.8 데이터 삭제 쿼리

---
* DELETE 쿼리를 실행해서 레코드 단위로 데이터를 삭제할 수 있다.
* ```
  DELETE from [테이블이름] where [조건절]
  ```
* UPDATE 쿼리와 마찬가지로 WHERE 절에 조건을 입력하지 않으면 전체 레코드를 삭제한다.
* 특정조건의 레코드를 삭제할 때에는 반드시 WHERE절을 사용해서 범위를 지정해야한다.

### 2.9 조인

---
* 조인은 두개 이상의 테이블에서 관련 있는 데이터를 함께 읽어올 때 사용된다.
* ```
  SELECT A. 칼럼1, A. 칼럼2, B. 칼럼3, B.칼럼4
  FROM [테이블1] as A, [테이블2] as B
  WHERE A.[칼럼x] = B.[칼럼y]
  ```
* [테이블1] as A는 테이블1을 A로 표시한다는 뜻이다.
* 위 쿼리는 테이블1의 칼럼 x와 테이블2의 칼럼 y의 값이 같은 레코드를 하나의 행으로 읽어온다.
* 조인을 사용하면 여러 테이블에 분산해서 저장된 정보를 읽어올 때 유용하게 사용할 수 있다.