# DB 연동

---
## 1 JDBC 프로그래밍의 단점을 보완하는 스프링

---
* 구조적인 반복을 줄이기 위한 방법은 템플릿 메서드 패턴과 전략 패턴을 함께 사용하는 것이다.
* 스프링은 바로 이 두 패턴을 엮은 JdbcTemplate 클래스를 제공한다.
* 스프링의 제공하는 또 다른 장점은 트랜잭션 관리가 쉽다는 것이다.
* 스프링을 사용하면 트랜잭션을 적용하고 싶은 메서드에 @Transactional 애노테이션을
붙이기만 하면 된다.
* 커밋과 롤백 처리는 스프링이 알아서 처리한다.


* 커넥션의 상태에 대해 알아보기
  * 커넥션 풀은 커넥션을 생성하고 유지한다.
  * 커넥션 풀에 커넥션을 요청하면 해당 커넥션은 활성 상태가 되고, 커넥션을 다시 커넥션
  출에 반환하면 유휴 상태가 된다.
  * getConnection()을 실행하면 풀에서 커넥션을 가져와 커넥션이 활성 상태가 된다.
  * 반대로 커넥션을 종료(close)하면 커넥션은 풀로 돌아가 유휴 상태가 된다.

## 2 JdbcTemplate을 이용한 쿼리 실행

---
* 스프링을 사용하면 DataSource나 Connection, Statement, ResultSet을 직접 사용하지 않고
JdbcTemplate을 이용해서 편리하게 쿼리를 실행할 수 있다.