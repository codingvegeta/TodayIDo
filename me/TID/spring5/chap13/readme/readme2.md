# 간단한 웹 어플리케이션의 구조

---
## 간단한 웹 어플리케이션의 구성 요소

---
* 간단한 웹 어플리케이션을 개발할 때 사용하는 전형적인 구조는 다음과 같다.
    * 프론트 서블릿
      * 웹 브라우저의 모든 요청을 받는 창구 역할을 한다.
      * 요청을 분석해 알맞은 컨트롤러에 전달한다.
      * MVC 에서는 DispatcherServlet이 프론트 서블릿 역할을 수행한다. 
    * 컨트롤러 + 뷰
      * 실제 웹 브라우저의 요청을 처리한다.
      * 컨트롤러는 클라이언트의 요청을 처리하기 위해 알맞은 기능을 실행하고 그 결과를 뷰에 전달한다.
        * 클라이언트가 요구한 기능 실행
        * 응답 결과를 생성하는데 필요한 모델 생성
        * 응답 결과를 생성할 뷰 선택
      * 사용자 요청을 연결하는 매개체로서 기능 제공을 위한 로직을 직접 수행하지는 않는다.
    * 서비스
      * 기능의 로직을 구현한다.
      * 핵심로직이다.
      * DB 연동이 필요하면 DAO를 사용한다.
    * DAO
      * Data Access Object 
      * DB에 데이터를 추가하거나 DB에 데이터를 읽어온다.

## 서비스의 구현

---
* 서비스를 구현할 때 한 서비스 클래스가 제공할 기능의 개수는 몇개가 적당할까?
* 서비스 클래스는 기능 제공을 위해 한 개의 public 메서드를 제공하는것이 좋다.
* 같은 데이터를 사용하는 기능들을 한 개의 서비스 클래스에 모아서 구현할 수도 있다.
* 서비스 클래스의 메서드는 기능을 실행하는데 필요한 값을 파라미터로 전달받는다.
* 필요한 데이터를 전달받기 위해 별도 타입을 만들면 스프링MVC의 커맨드 객체로 해당
타입을 사용할 수 있어 편하다.
* 커맨드 클래스를 작성한 이유는 스프링 MVC가 제공하는 폼 값 바인딩과 검증, 스프링
폼 태그와의 연동 기능을 사용하기 위함이다.
* 서비스 메서드는 기능을 실행한 후에 결과를 알려주어야 한다.
  * 리턴 값을 이용한 정상 결과
  * 익셉션을 이용한 비정상 결과

## 컨트롤러에서의 DAO 접근

---
* 서비스 메서드에서 어떤 로직도 수행하지 않고 단순히 DAO의 메서드만 호출하고 끝나는 코드도있다.
* 이 경우 컨트롤러는 서비스를 사용해야 한다는 압박에서 벗어나 DAO에 직접 접근해도
큰 틀에서 웹 어플리케이션의 계층 구조는 유지된다고 본다.

## 패키지 구성

---
* 웹 어플리케이션의 각 구성요소의 패키지는 어떻게 구분해 줘야 할까?
* 웹 요청을 처리하기 위한 영역에는 컨트롤러 클래스와 관련 클래스들이 위치한다.
* 기능제공 영역에는 기능 제공을 위해 필요한 서비스, DAO, 그리고 모델 클래스가 위치한다.
