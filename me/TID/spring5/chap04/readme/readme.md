#  컴포넌트 스캔

---
* 자동 주입과 함께 사용하는 추가 기능이 컴포넌트 스캔이다.
* 컴포넌트 스캔은 스프링이 직접 클래스를 검색해서 빈으로 등록해주는 기능이다.
* 설정 클래스에 빈으로 등록하지 않아도 원하는 클래스를 빈으로 등록할 수 있으므로
컴포넌트 스캔을 사용하면 설정 코드가 크게 줄어든다.

## 1 @Component 애노테이션으로 스캔 대상 지정

---
* 스프링이 검색해서 빈으로 등록할 수 있으려면 클래스에 @Component 애노테이션을
붙여야 한다.
* @Component 애노테이션은 해당 클래스를 스캔 대상으로 표시한다.
* @Component 애노테이션에 값을 주었는지에 따라 빈으로 등록할 때 사용할 이름이
결정된다.
* @Component 애노테이션에 값을 주지 않은경우 클래스 이름의 첫글자를 소문자로
바꾼 이름을 빈 이름으로 사용한다.
* 값을 준 경우 그 값을 빈 이름으로 사용한다.

## 2 @ComponentScan 애노테이션으로 스캔 설정

---
* @Component 애노테이션을 붙인 클래스를 스캔해서 스프링 빈으로 등록하려면 설정
클래스에 @ComponentScan 애노테이션을 적용해야 한다.

## 3 스캔 대상에서 제외하거나 포함하기

---
* excludeFilters 속성을 사용하면 스캔할 때 특정 대상을 자동 등록 대상에서 제외
할 수 있다.

### 3.1 기본 스캔 대상

---
* @Component 애노테이션을 붙인 클래스만 컴포넌트 스캔 대상에 포함되는 것은 아니다.
* 다음 애노테이션을 붙인 클래스가 컴포넌트 스캔 대상에 포함된다.
  * @Component(org.springframework.stereotype 패키지)
  * @Controller(org.springframework.stereotype 패키지)
  * @Service(org.springframework.stereotype 패키지)
  * @Repository(org.springframework.stereotype 패키지)
  * @Aspect(org.springframework.stereotype 패키지)
  * @Configuration(org.springframework.stereotype 패키지)
* @Aspect 애노테이션을 제외한 나머지 애노테이션은 실제로는 @Component 애노테이션
에 대한 특수 애노테이션이다.

## 4 컴포넌트 스캔에 따른 충돌 처리

---
* 컴포넌트 스캔 기능을 사용해서 자동으로 빈을 등록할 떄에는 충돌에 주의해야 한다.

### 4.1 빈 이름 충돌

---
* 컴포넌트 스캔과정에서 서로 다른 타입인데 같은 빈 이름을 사용하는 경우 둘 중 하나에
명시적으로 빈 이름을 지정해서 이름 충돌을 피해야 한다.

### 4.2 수동 등록한 빈과 충돌

---
* 스캔할 때 사용하는 빈 이름과 수동 등록한 빈 이름이 같은 경우 수동 등록한
빈이 우선한다.
* 이름이 비슷한경우?
  * 같은 타입의 빈이 두개가 생성되므로 자동 주입하는 코드는 @Qualifier 애노테이
  션을 사용해서 알맞은 빈을 선택해야 한다.
