#  의존 자동 주입

---

## 1 @Autowired 애노테이션을 이용한 의존 자동 주입

---
* 자동 주입 기능을 사용하면 스프링이 알아서 의존 객체를 찾아서 주입한다.
* 의존을 주입하지 않아도 스프링이 @Autowired가 붙은 핑드에 해당 타입의
빈 객체를 찾아서 주입한다.
* 빈 객체 메서드에 @Autowired 애노테이션을 붙이면 스프링은 해당 메서드를 호출한다.
* 이때, 메서드의 파라미터 타입에 해당하는 빈 객체를 찾아 인자로 주입한다.
* @Autowired 애노테이션을 필드나 메서드에 붙이면 스프링은 타입이 일치하는 빈 객체를
찾아서 주입한다.

### 1.1 일치하는 빈이 없는 경우

---
* 일치하는 빈이 없는경우 에러가 난다
* 일치하는 빈이 2개인경우에도 에러가 난다.

## 2 @Qualifier 애노테이션을 이용한 의존 객체 선택

---
* 자동 주입 가능한 빈이 두개 이상이면 자동 주입할 빈을 지정할 수 있는 방법이
필요하다.
* @Qualifier 애노테이션을 사용하면 자동주입 대상 빈을 한정할 수 있다.
* 사용 가능한 위치는 두가지가 있다.
  * @Bean 애노테이션을 붙인 빈 설정 메서드에 사용 가능하다.
  * @Autowired 애노테이션을 붙인 빈 설정 메서드에 사용한다.
  * @Autowired로 자동주입시 @Qualifier 되어 있다면 @Qualifier 가 사용된
  빈을 주입 받는다.

### 2.1 빈 이름과 기본 한정자

---
* 빈 설정에 @Qualifier 애노테이션이 없으면 빈의 이름을 한정자로 지정한다.
* 메서드() 로 정의한 빈의 한정자는 빈 이름인 "메서드"가 된다.
* @Autowired 애노테이션도 @Qualifier 애노테이션이 없으면 필드나 파라미터 이름을
한정자로 사용한다.

## 3 @Autowired 애노테이션의 필수 여부

---
* @Autowired 애노테이션을 사용할 경우 해당하는 빈이 존재하지 않으면 익셉션이
발생한다.
* 자동 주입할 대상이 필수가 아닌경우에는 다음과 같은 방법을사용한다
  * @Autowired(required=false)
    * 매칭 되는 빈이 없어도 익셉션이 발생하지 않으며 자동 주입을 수행하지 않는다.
    * 일치하는 빈이 없으면 값 할당 자체를 하지 않는다.
  * 의존 주입 대상에 Optional을 사용한다.
  * @Nullable 애노테이션을 같이 달아준다.
    * 자동 주입할 빈이 존재하지 않아도 메서드가 호출이된다.
    * 빈이 존재하지 않으면 null을 전달한다.
* 위 세가지 방식은 필드에도 사용이 가능하다.

## 4 자동 주입과 명시적 의존 주입 간의 관계

---
* 설정 클래스에서 세터 메서드를 통해 의존을 주입해도 해당 세터 메서드에 
@Autowired 애노테이션이 붙어 있으면 자동 주입을 통해 일치하는 빈을 주입한다.
* 따라서 @Autowired 애노테이션을 사용했다면 설정 클래스에서 객체를 주입하기 보다
스프링이 제공하는 자동 주입 기능을 사용하는 편이 낫다.